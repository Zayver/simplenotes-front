<p-confirmpopup />
<div class="wrapper">
    <div class="categories">
        @if (this.categories$ | async; as categories) {
            @for (category of categories; track $index) {
                <div class="category">
                    <span>{{category.name}}</span>
                    <p-button [outlined]="true" size="small" severity="danger" [rounded]="true" (onClick)="this.confirmRemoveCategory($event, category.uuid)"><ng-icon name="lucideTrash"/></p-button>
                </div>
            }
            @empty {
                <h1 class="font-bold text-2xl text-center self-center">You don't have categories, create one !</h1>
            }
        }
    </div>

    <div class="add-category">
        <h1>Add category</h1>
        <form [formGroup]="this.createCategoryForm" (ngSubmit)="this.onSubmit()">
            <input type="text" pInputText formControlName="name" placeholder="Category name" [required]="true">
            <p-button type="submit" severity="success" [disabled]="this.createCategoryForm.invalid" [loading]="this.loading()"><ng-icon name="lucidePlus"/></p-button>
        </form>
    </div>
</div>